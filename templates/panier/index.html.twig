{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}

{% block body %}
    
      <div class="container bandeauCate">
          <ul class="categories">
              <li> <a class="btn btn-sm lienCate" href="{{ path('article') }}" role="button"> Retour à la boutique </a> </li>
          </ul>
      </div>
  
    <div class="container">
    {% if produits | length > 0 %}
      <table class='table'>
        <thead>
          <tr>
            <td>Produit :</td>
            <td>Prix :</td>
            <td>Quantitée :</td>
            <td>Total :</td>
            <td>Actions :</td>
          </tr>
        </thead>
        <tbody>
          {% for produit in produits %}
            <tr>
              <td> {{ produit.article.namearticle }} <img src="/img/{{ produit.article.image }}" class="float-right" width="50px"></td>
              <td> {{ produit.article.price }} €</td>
              <td> {{ produit.quantity }}</td>
              <td> {{ produit.article.price * produit.quantity }} €</td>
              <td> 
                <a href="{{ path('panier_addOne', {'id' : produit.article.idarticle })}}" class="btn btn-sm" title="Ajouter">
                  <img src="/img/icons-plus-30.png">
                </a>
                <a href="{{ path('panier_moinOne', {'id' : produit.article.idarticle })}}" class="btn btn-sm" title="Supprimer">
                  <img src="/img/icons-moins-30.png">
                </a>
                <a href="{{ path('panier_delete', {'id' : produit.article.idarticle })}}" class="btn btn-sm" title="Supprimer">
                  <img src="/img/icons-poubelle-30.png">
                </a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
        <tfoot>
          <tr>
            <td colspan="3" class="text-right">Total du panier :</td>
            <td>{{ total }} €</td>
            <td> <a class="btn btn-primary btn-sm" href="#" role="button">Valider la commande</a></td>
          </tr>
        </tfoot>
      </table>
    {% else %}
      <p>Votre panier est vide!</p>
    {% endif %}
    </div>
{% endblock %}
